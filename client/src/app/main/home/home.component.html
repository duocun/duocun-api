<div class="page">
  <div class="location-block" *ngIf="options && options.length>0">
    <app-location-list [account]="account" [places]="options"
      (placeSeleted)="onSelectPlace($event)">
    </app-location-list>
  </div>

  <div class="col-12 time-option-list" *ngIf="bTimeOptions">
    <div class="row option-item overdue" (click)="onSelectTime('immediate')">
      <div class="col-12 immediate-deliver">
        <div>
          <span class="text-md" style="font-weight: 400" i18n="@@ImmediateDeliver">Immediate Deliver</span>
          <!-- <span class="text-sm date">(&nbsp;{{today}}</span>
          <span class="text-sm time">{{lunchTime.start}} ~ {{lunchTime.end}}</span>
          <span class="text-sm arrive" i18n="@@Arrive">Arrive</span>
          <span class="text-sm">&nbsp;)</span> -->
        </div>
        <div class="text-sm">
          <span i18n="@@DeliveryFeeMinus">Delivery Fee Minus</span>
          <span>&nbsp;${{deliveryDiscount}}</span>
        </div>
      </div>
    </div>
    <div *ngIf="inRange && !afternoon" class="row option-item" [class.overdue]="overdue" [class.free]="!overdue"
      (click)="onSelectTime('lunch today')">
      <div class="col-12">
          <div>
            <span class="text-md" i18n="@@LunchToday">Lunch Today</span>
            <span class="text-sm date">(&nbsp;{{today | date: 'MMMd E' }}</span>
            <span class="text-sm time">{{lunchTime.start}}~{{lunchTime.end}}</span>
            <span class="text-sm arrive" i18n="@@Arrive">Arrive</span>
            <span class="text-sm">&nbsp;)</span>
          </div>
          <div class="text-sm">
            <span *ngIf="!overdue">9:00</span>
            <span *ngIf="!overdue" i18n="FreeDeliveryIfOrderBefore">Free delivery if order before</span>
            <span *ngIf="overdue" i18n="@@DeliveryFeeMinus">Delivery Fee Minus</span>
            <span *ngIf="overdue">&nbsp;${{deliveryDiscount}}</span>
            <span *ngIf="overdue" class="overdue-note">
              <span i18n="@@Over">Over</span>9:00&nbsp;
              <span i18n="@@DeliverNotFreeNotes">deliver is not free, please order in advance next time</span>
            </span>
          </div>
      </div>
    </div>
    <div *ngIf="inRange" class="row option-item free" (click)="onSelectTime('lunch tomorrow')">
      <div class="col-12">
          <div>
            <span class="text-md" i18n="@@LunchTomorrow">Lunch Tomorrow</span>
            <span class="text-sm date">(&nbsp;{{tomorrow | date: 'MMMd E'}}</span>
            <span class="text-sm time">{{lunchTime.start}}~{{lunchTime.end}}</span>
            <span class="text-sm arrive" i18n="@@Arrive">Arrive</span>
            <span class="text-sm">&nbsp;)</span>
          </div>
          <div class="text-sm">
            <span i18n="@@FreeDelivery">Free Delivery</span>
          </div>
      </div>
    </div>
    <div *ngIf="inRange" class="row option-item free" (click)="onSelectTime('lunch after tomorrow')">
      <div class="col-12">
          <div>
            <span class="text-md" i18n="@@LunchTheDayAfterTomorrow">Lunch the Day after Tomorrow</span>
            <span class="text-sm date">(&nbsp;{{dayAfterTomorrow | date: 'MMMd E'}}</span>
            <span class="text-sm time">{{lunchTime.start}}~{{lunchTime.end}}</span>
            <span class="text-sm arrive" i18n="@@Arrive">Arrive</span>
            <span class="text-sm">&nbsp;)</span>
          </div>
          <div class="text-sm">
            <span i18n="@@FreeDelivery">Free delivery</span>
          </div>
      </div>
    </div>
    <div *ngIf="!inRange" class="row option-item no-free">
        <div class="col-12">
            <!-- <div class="text-md">
              <span style="font-weight: 400" i18n="@@LunchTheDayAfterTomorrow">Lunch the Day after Tomorrow</span>
            </div> -->
            <div class="text-sm">
              <span i18n="@@NotInFreeDeliveryRange">Your address is not in free delivery range</span>
            </div>
        </div>
    </div>
  </div><!--time-option-list-->

  <div class="map-col" *ngIf="!options || (options && options.length === 0)">
    <!-- div class="map-area" [ngClass]="mapFullScreen ? 'full-screen-map' : ''" *ngIf="!bHideMap && showMap()" -->
    <div class="map-area" *ngIf="!mapFullScreen">
      <app-map [center]="center" [zoom]="14" [places]="places"></app-map>
    </div>
    <div class="background-img" *ngIf="mapFullScreen">
      <img src="assets/map.png" />
    </div>
  </div>

  <div class="input-group address-search-row">
    <app-address-input (addrChange)="onAddressChange($event)" 
      (addrClear)="onAddressClear($event)" (inputFocus)="onAddressInputFocus($event)"
      placeholder="Input Delivery Address" i18n-placeholder="Input Delivery Address" 
      [value]="deliveryAddress"></app-address-input>
    <!-- <input #div type="text" id="userlocationinput" placeholder="Search by Street or Postal Code"/> -->
    <div class="input-group-append">
      <button type="button" class="btn btn-primary btn-current-location" (click)="useCurrentLocation()"
        i18n="@@CurrentLocation">Current Location</button>
    </div>
  </div>
</div>
